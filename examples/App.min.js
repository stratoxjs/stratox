(()=>{var U=(u,e,t)=>{if(!e.has(u))throw TypeError("Cannot "+t)};var o=(u,e,t)=>(U(u,e,"read from private field"),t?t.call(u):e.get(u)),f=(u,e,t)=>{if(e.has(u))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(u):e.set(u,t)},g=(u,e,t,i)=>(U(u,e,"write to private field"),i?i.call(u,t):e.set(u,t),t);var A=(u,e,t)=>(U(u,e,"access private method"),t);var d={extend:function(u,e){for(var t in e)e.hasOwnProperty(t)&&(u[t]=e[t]);return u},each:function(u,e){let t=0;if(u&&typeof u=="object")for(let[i,n]of Object.entries(u)){let r=e(i,n,t);if(r!==void 0)return r;t++}return this},isCollection:function(u){return HTMLCollection.prototype.isPrototypeOf(u)||NodeList.prototype.isPrototypeOf(u)},isArray:function(u){return typeof u!="object"?!1:Array.isArray(u)},inArray:function(u,e){return typeof e!="object"?!1:e.includes(u)},isEmptyObject(u){return Object.keys(u).length===0},count:function(u){return this.isArray(u)?u.length:0},trim:function(u){return u.trim()},toNum:function(u,e){return u=e?parseFloat(u):parseInt(u),Number.isNaN(u)?0:u},round:function(u,e){typeof e!="number"&&(e=0);let t=Math.pow(10,e);return Math.round(u*t)/t},clone:function(u){return JSON.parse(JSON.stringify(u))},ajax:function(u){let e={method:"GET",url:"",data:null,body:null,dataType:"json",headers:{},statusCode:{}};d.extend(e,u),e.data=e.data!==null?"?"+new URLSearchParams(e.data):"",e.headers.Accept||(e.headers.Accept=e.dataType==="json"?"application/json":"text/html");let t={},i,n=fetch(e.url+e.data,e).then(function(r){return t=r,r.ok?e.headers.Accept==="application/json"?r.json():r.text():Promise.reject(r)});return{done:function(r){return n.then(function(s){typeof i=="function"&&(r=i),typeof r=="function"&&r.apply(this,[s,t.status,s])}),this},fail:function(r){return n.catch(function(s){if(typeof e.statusCode=="object"){let l=null;typeof e.statusCode[s.status]=="string"?l=e.statusCode[s.status]:typeof e.statusCode[s.status]=="function"&&(l=e.statusCode[s.status].call(this,s)),l!==null&&typeof l=="string"&&!s.message&&(s.message=l)}typeof i=="function"&&(r=i),typeof r=="function"&&r.apply(this,[s,s.status])}),this},always:function(r){return i=r,n.then(this.done).catch(this.fail),this}}}},M=function(u,e){return M.obj={init:function(t){return this.elem=u,this.selector=this._selector(),this.domStyles={},this.selector&&(this.length=this.selector.length),this},_selector:function(){if(this.elem===null)return null;if(typeof this.elem=="object"&&typeof this.elem.isSelf=="function")return this.elem.selector;let t=this.query(this.elem,document);return t!==null?t:HTMLCollection.prototype.isPrototypeOf(this.elem)||NodeList.prototype.isPrototypeOf(this.elem)?(this.elem=Array.from(this.elem),this.elem):Array(this.elem)},isSelf:function(){return!0},query:function(t,i,n){if(typeof t=="string"){if(t.indexOf("<")===0)return this.setTextSelector(t),Array(this.createHTML(t));{let r=t.split(":");if(!n&&r.length===1&&t.indexOf("#")===0){let s=i.getElementById(t.substring(1));return Array(s)}else{if(r.length===2&&(r[1]==="first"&&(r[1]="first-child"),r[1]==="last"&&(r[1]="last-child"),r[1]==="input")){let s=i.elements;return s||(s=i.querySelectorAll("input, select, checkbox, textarea")),s}return t=r.join(":"),i.querySelectorAll(t)}}}return null},data:function(t,i){let n=this.get();return i===void 0?n.dataset[t]:(n.dataset[t]=i,this)},removeData:function(t){delete this.get().dataset[t]},exist:function(){return!!this.get()},attr:function(t,i){let n=this.get();return i===void 0?typeof t=="object"?(d.each(t,function(r,s){n.setAttribute(r,s)}),this):n.getAttribute(t):(n.setAttribute(t,i),this)},removeAttr:function(t){return this.get().removeAttribute(t),this},css:function(t,i){let n=this;return this.each(function(r){if(typeof t=="object"){let s="";n.domElem(r,"waDomStyles",t);for(let[l,h]of Object.entries(r.waDomStyles))s+=l+":"+h+";";r.style.cssText=s}else n.domElem(r,"waDomStyles",t,i),r.style[t]=i}),this},hasClass:function(t){return this.get().classList.contains(t)},addClass:function(t){let i=this;return this.each(function(n){if(n){let r=t.split(" ");for(let l=0;l<r.length;l++){let h=d.trim(r[l]);i.domElem(n,"waDomClasses",h,h)}let s=Object.keys(n.waDomClasses);n.classList.add(...s)}}),this},removeClass:function(t){let i=this;return this.each(function(n){if(n){let r=t.split(" "),s=Array();for(let l=0;l<r.length;l++){let h=d.trim(r[l]);s.push(h),n.waDomClasses&&typeof n.waDomClasses[h]=="string"&&delete n.waDomClasses[h]}s.length>0&&n.classList.remove(...s)}}),this},domElem:function(t,i,n,r){if(typeof t[i]!="object"&&(t[i]={}),r)t[i][n]=r;else return d.extend(t[i],n)},hide:function(){return this.css("display","none"),this},remove:function(){return this.each(function(t){t&&t.remove()}),this},children:function(){return a(this.get(0).parentElement.children)},siblings:function(){let t=this.get(0),i=t.parentElement.children,n=Array();return t.waCarrot=!0,d.each(i,function(r,s){s.waCarrot!==!0?n.push(s):delete s.waCarrot}),this.selector=n,this},parent:function(){return a(this.get(0).parentElement)},first:function(){return a(this.get(0))},last:function(){let t=this.selector.length-1;return a(this.get(t))},next:function(t){return a(this.get(t).nextElementSibling)},prev:function(t){return a(this.get(t).previousElementSibling)},eq:function(t){let i=d.toNum(t);return this.selector&&this.selector[0]&&this.selector[0][0]?a(this.selector[0][t]):a(this.selector[t])},getLength:function(){return this.selector.length},index:function(t){let i=this.get();return t?(typeof t=="string"&&(t=$(t).get(0)),Array.prototype.indexOf.call(i,t.get(0))):Array.from(i.parentElement.children).indexOf(i)},find:function(t){return a(this.query(t,this.get(0),!0))},closest:function(t){let i=this.get(0).closest(t);return a(i)},get:function(t){let i=d.toNum(t);return this.selector[i]??this.selector},ready:function(t){return this.get(0).addEventListener("DOMContentLoaded",t),this},each:function(t){let i=0,n=this;return n.selector&&n.selector.forEach(function(r){typeof t=="function"&&(r&&r[0]&&(r=r[0]),t.apply(r,[r,n.selector,i])),i++}),this},on:function(t,i,n,r){return typeof r=="function"?a(this.query(i,this.get(0),!0)).each(function(l){l.addEventListener(t,function(h){h.data=n,r(h)})}):typeof n=="function"?this.each(function(s){s&&s.addEventListener(t,function(l){let h=l.target&&typeof l.target.closest=="function"?l.target.closest(i):null;if(h)return n.apply(h,[l,h]),h},!0)}):this.each(function(s){s&&s.addEventListener(t,function(l){let h=l.target;return i.apply(h,[l,h]),h})}),this},click:function(t){return this.on("click",t)},trigger:function(t){return typeof t!="string"?(console.error("The trigger argument is expected to be a string."),!1):this.each(function(i){if(i){let n=new Event(t,{bubbles:!0,cancelable:!0});i.dispatchEvent(n)}})},scroll:function(t){return this.on("scroll",t)},resize:function(t){return this.on("resize",t)},focus:function(t){return typeof t=="function"?this.on("focus",t):(this.each(function(i){i&&i[0]?i[0].focus():i&&i.focus()}),this)},blur:function(t){return typeof t=="function"?this.on("blur",t):(this.each(function(i){i&&i[0]?i[0].blur():i&&i.blur()}),this)},keydown:function(t){return this.on("keydown",t)},keyup:function(t){return this.on("keydown",t)},scrollTop:function(t){if(t===void 0)return this.get().scrollY;let i=d.toNum(t,!0);return this.scrollTo(0,t),t},scrollTo:function(t,i){return t=d.toNum(t,!0),i=d.toNum(i,!0),this.get().scrollTo(t,i),this},width:function(){let t=this.get(),i=parseFloat(t.innerWidth),n=parseFloat(t.offsetWidth);return Number.isNaN(i)?Number.isNaN(n)?0:n:i},height:function(){let t=this.get(),i=parseFloat(t.innerHeight),n=parseFloat(t.offsetHeight);return Number.isNaN(i)?Number.isNaN(n)?0:n:i},innerWidth:function(){return this.width()},innerHeight:function(){return this.height()},animate:function(t,i,n,r){let s=this;return typeof r!="string"&&(r="cubic-bezier(0.455, 0.030, 0.515, 0.955)"),i=d.toNum(i),i>0&&(t.transition="all "+i+"ms "+r),this.css(t),typeof n=="function"&&setTimeout(function(l){i>0&&s.css("transition",""),n(l)},i),this},setTextSelector:function(t){return this.textSelector=t,this},createHTML:function(t){var i=document.createElement("div");return i.innerHTML=d.trim(t),i.firstChild},append:function(t){let i;return this.each(function(n){n.insertAdjacentHTML("beforeend",t),i=n}),a(i.lastChild)},prepend:function(t){let i;return this.each(function(n){n.insertAdjacentHTML("afterbegin",t),i=n}),a(i.firstChild)},appendTo:function(t){return a(t).append(this.parent().html())},prependTo:function(t){return a(t).prepend(this.parent().html())},before:function(t){let i;return this.each(function(n){n.insertAdjacentHTML("beforebegin",t),i=n}),a(i).prev()},after:function(t){let i;return this.each(function(n){n.insertAdjacentHTML("afterend",t),i=n}),a(i).next()},insertBefore:function(t){return a(t).before(this.textSelector)},insertAfter:function(t){return a(t).after(this.textSelector)},replaceWith:function(t){let i=this;if(typeof t=="function"){let n;return this.each(function(r){let s=t.apply(i,[r]);n=i.query(s),n=n[0],r.replaceWith(n)}),a(n)}else this.each(function(n){n&&(n.outerHTML=t)});return i},html:function(t,i){if(this.selector){if(t===void 0)return this.get().innerHTML;this.each(function(n){n&&(this.innerHTML=t)})}return this},empty:function(){return this.each(function(t){t&&(t.textContent="")}),this},text:function(t){if(this.selector){if(t===void 0)return this.get().textContent;this.each(function(i){i&&(i.textContent=t)})}return this},val:function(t){return t===void 0?this.get().value:(this.each(function(i){i.value=t}),this)}},M.obj.init(),M.obj},a=d.extend(M,d);var V=class{constructor(e,t,i,n){this.json=e,this.value="",this.label="",this.description="",this.values=null,this.name="",this.nameJoin="",this.nameSplit=Array(),this.index=0,this.key=t,this.fields={},this.attr={},this.config={},this.configList={},this.settings=a.extend({xss:!0},i??{}),this.model=n}container(e){let t="",i="";return(this.getValidation("length",0)>0||this.getValidation("hasLength",1)>0)&&(t="*"),i='<div id="'+this.getFieldID()+'" class="holder field-'+this.nameJoin+'" data-index="'+this.index+'">',this.label&&(i+="<label>"+this.label+t+'<div class="message hide"></div></label>'),this.description&&(i+='<div class="description legend">'+this.description+"</div>"),i+=e(),i+="</div>",i}input(e){typeof e!="object"&&(e={});let t="",i=a.extend({type:"text",name:this.name,value:this.value,"data-index":this.index},e),n=typeof this.attr.type=="string"?this.attr.type:null,r=this.getAttr(i);return n==="password"&&(t+='<div class="relative">',t+='<a class="abs right block middle over-1 pad wa-show-password-btn" href="#"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><circle cx="17" cy="15" r="1"/><circle cx="16" cy="16" r="6"/><path d="M2 16S7 6 16 6s14 10 14 10-5 10-14 10S2 16 2 16Z"/></svg></a>'),t+="<input"+r+">",n==="password"&&(t+="</div>"),t}text(){let e=this;return this.container(function(){return e.input()})}password(){let e=this;return this.container(function(){return e.input({type:"password"})})}date(){let e=this;return this.container(function(){return e.input({type:"date"})})}datetime(){let e=this;return this.container(function(){return e.input({type:"datetime-local"})})}hidden(){return this.input({type:"hidden"})}textarea(){let e=this,t=this.getAttr({name:this.name,"data-index":this.index});return this.container(function(){return"<textarea"+t+">"+e.value+"</textarea>"})}select(){let e=this,t=this.attr&&this.attr.multiple?this.name+"[]":this.name,i=this.getAttr({name:t,"data-index":this.index});return this.container(function(){let n="<select"+i+' autocomplete="off">';if(typeof e.data.items=="object")for(let[r,s]of Object.entries(e.data.items)){let l=e.isChecked(r)?' selected="selected"':"";n+='<option value="'+r+'"'+l+">"+s+"</option>"}else console.warn("Object items parameter is missing.");return n+="</select>",n})}radio(){let e=this,t=this.getAttr({type:"radio",name:this.name,"data-index":this.index});return this.container(function(){let i="";if(typeof e.data.items=="object")for(let[n,r]of Object.entries(e.data.items)){let s=e.isChecked(n)?' checked="checked"':"";i+='<label class="radio item small"><input'+t+' value="'+n+'"'+s+'><span class="title">'+r+"</span></label>"}else console.warn("Object items parameter is missing.");return i})}checkbox(){let e=this,t=Object.keys(e.data.items).length,i=this.getAttr({type:"checkbox",name:t>1?this.name+"[]":this.name,"data-index":this.index});return this.container(function(){let n="";if(typeof e.data.items=="object")for(let[r,s]of Object.entries(e.data.items)){let l=e.isChecked(r)?' checked="checked"':"";n+='<label class="checkbox item small"><input'+i+' value="'+r+'"'+l+'><span class="title">'+s+"</span></label>"}else console.warn("Object items parameter is missing.");return n})}submit(e){let t=this,i=a.extend({type:"submit",name:this.name,value:this.value},e);return"<input"+this.getAttr(i)+">"}group(){let e="";return e+='<div class="holder wa-advanced-grouped-field">',this.groupFactory(function(t,i){e+=t},!0),e+="</div>",e}};var O=class extends String{static value(e){return new O(e)}padStart(e,t){return e=e>>0,t=String(typeof t<"u"?t:" "),this.length>e?String(this):(e=e-this.length,e>t.length&&(t+=t.repeat(e/t.length)),t.slice(0,e)+String(this))}htmlspecialchars(){let e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return this.replace(/[&<>"']/g,t=>e[t])}protect(){return this.htmlspecialchars(),this}xss(){return this.htmlspecialchars(),this}urlencode(){let e=encodeURIComponent(this);return e.replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+"),e}urldecode(){return decodeURIComponent(this.replace(/\+/g," "))}format(){var e=arguments;return this.replace(/{(\d+)}/g,function(t,i){return typeof e[i]<"u"?e[i]:t})}};var L,k,D,I,Y,H,tt,F,K,q,et,G,it,P=class extends V{constructor(){super(...arguments);f(this,I);f(this,H);f(this,F);f(this,q);f(this,G);f(this,k,{});f(this,D,!1)}static setComponent(t,i,n){if(typeof i!="function")throw new Error("The argument 2 in @prepareView has to be a callable");o(this,L)[t]=i}getComponent(t){return o(P,L)[t]?o(P,L)[t]:!1}hasComponent(t){return typeof this[t]=="function"||this.getComponent(t)}getAttr(t){typeof t!="object"&&(t={});let i="",n=a.extend(t,this.attr);for(let[r,s]of Object.entries(n))i+=" "+r+'="'+s+'"';return i}setValues(t){return g(this,k,t),this}isIterable(t){return t==null?!1:typeof t[Symbol.iterator]=="function"}isChecked(t){return a.isArray(this.value)?a.inArray(t,this.value):this.value==t}getFieldID(){return"wa-fi-"+this.key+"-"+this.index}hasGroupEvents(){return o(this,D)}groupFactory(t,i){g(this,D,!0);let n="",r={},s=this,l=0,h=s.nameJoin,N=a.extend({},s.fields),nt=this.getValueLength(1),T=this.config;return a.isArray(this.value)||(this.value=Array("")),a.each(this.value,function(z,rt){let C="",R=s.index,st=T.nestedNames!==void 0&&T.nestedNames===!0;T.controls!==void 0&&T.controls===!0&&(C+='<div class="group holder relative card-1 border" data-length="'+nt+'">',C+='<a class="wa-field-group-delete-btn pad form-group-icon abs right top over-2" data-name="'+h+'" data-key="'+s.key+'" data-index="'+R+'" data-position="'+z+'" href="#"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="16" height="16" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6"><path d="M2 30 L30 2 M30 30 L2 2" /></svg></a>',C+='<a class="wa-field-group-btn form-group-icon before abs middle top over-2" data-name="'+h+'" data-key="'+s.key+'" data-index="'+R+'" data-position="'+z+'" href="#"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="16" height="16" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6"><path d="M16 2 L16 30 M2 16 L30 16" /></svg></a>'),a.each(N,function(X,ot){var _;let at=st?h+","+l+","+X:X;r[at]=ot,C+=A(_=s,I,Y).call(_,r,!1),r={}}),l++,T.controls!==void 0&&T.controls===!0&&(C+='<a class="wa-field-group-btn form-group-icon after abs middle bottom over-2" data-name="'+h+'" data-key="'+s.key+'" data-index="'+R+'" data-position="'+z+'" href="#"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="16" height="16" fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6"><path d="M16 2 L16 30 M2 16 L30 16" /></a>',C+="</div>"),n+=t(C,rt)}),n}get(){return A(this,I,Y).call(this,this.json)}getValidateItem(t){return this.data&&this.data.validate&&this.data.validate[t]?this.data.validate[t]:!1}getValidation(t,i){let n;return(n=this.getValidateItem(t))&&n[i]!==void 0?n[i]:!1}getValueLength(t){let i=0;return this.value&&a.isArray(this.value)&&(i=this.value.length),typeof t=="number"&&i<=t&&(i=t),i}format(t){return new O(t)}},E=P;L=new WeakMap,k=new WeakMap,D=new WeakMap,I=new WeakSet,Y=function(t,i){let n="";if(t)for(let[r,s]of Object.entries(t))this.data=s,this.name=typeof this.data.name=="string"?this.data.name:r,n+=A(this,H,tt).call(this,i);return n},H=new WeakSet,tt=function(t){this.value=typeof this.data.value=="string"?this.data.value:"",this.label=typeof this.data.label=="string"?this.data.label:"",this.description=typeof this.data.description=="string"?this.data.description:"",this.attr=typeof this.data.attr=="object"?this.data.attr:{},this.fields=typeof this.data.fields=="object"?this.data.fields:{},this.config=typeof this.data.config=="object"?this.data.config:{},a.extend(this.configList,this.config),A(this,G,it).call(this),this.attr["data-name"]=this.nameJoin;let i=A(this,q,et).call(this),n,r,s;if(typeof this[this.data.type]=="function"||(r=this.getComponent(this.data.type)))return typeof r=="function"?n=r.apply(this.model,[A(this,F,K).call(this,this.data.data??{}),this.data.type,a,this]):n=this[this.data.type](),this.index++,n||"";this.model.observer().stop(),console.error('The component/view named "'+this.data.type+'" does not exist.')},F=new WeakSet,K=function(t){let i=this;return typeof t=="object"&&a.each(t,function(n,r){var s;if(typeof r=="object"&&!(r instanceof String))return A(s=i,F,K).call(s,r);(typeof r=="string"||typeof r=="number")&&(i.settings.xss&&(r=i.format(r).xss()),t[n]=i.format(r))}),t},q=new WeakSet,et=function(){this.values&&g(this,k,this.values);let t=this,i=o(this,k),n=!1,r,s=this.nameSplit,l=s.length-1,h=s[l];i||(i={});for(let N=0;N<l;N++)r=s[N],i[r]!==void 0&&(i=i[r]);return i[h]!==void 0?this.value=i[h]:Object.entries(this.fields).length>0?i[h]=[{}]:(typeof i[h]!="object"&&(i={}),i[h]="",this.value||(this.value="")),i},G=new WeakSet,it=function(){this.nameJoin=this.name;let t=this.name.split(","),i="";if(this.nameSplit=this.name.split(","),t.length>1){i=t.shift();for(let n=0;n<t.length;n++)i+="["+t[n]+"]";this.name=i}},f(E,L,{});var J=class{#t={};#e={};#i=[];constructor(e){typeof e=="object"&&(this.#t=e)}set(e){let t,i=this;typeof e=="function"?(t=e(i.#e),a.extend(i.#e,t)):a.extend(i.#e,e)}factory(e){return this.#i.push(e),this}listener(){let e=this;return this.#e=new Proxy(this.#t,{set:function(t,i,n){return t[i]=n,e.notify(),!0}}),this}notify(){let e=this;a.each(this.#i,function(t,i){i(e.#t)})}stop(){this.#t={},this.#e={},this.#i=[]}};var p=class{#t="";type="";label="";description="";name="";attr={};config={};fields={};items={};value="";data={};constructor(e){if(typeof e!="string"&&typeof e!="number")throw new Error("Argumnent 1: The type/key component name should be a string value and not ("+typeof e+").");return this.type=e,this}static form(e,t){let i=new p(e);return i.#t="form",i.setType("text"),i.setName(e),i.merge(t)}static view(e,t){if(typeof t!="object")throw new Error("Argumnent 2 (view object data): In Create.view is required and should be an object");let i=new p(e);return i.#t="view",i.setData(t),i.setName(e),i}static fromData(e,t){return new p(e).merge(t)}getType(){return this.type}getName(){return this.name}getCompType(){return this.#t}setLabel(e){if(typeof e!="string"&&typeof e!="number")throw new Error("Argumnent 1: Is not a string or number");return this.label=e,this}setDescription(e){if(typeof e!="string"&&typeof e!="number")throw new Error("Argumnent 1: Is not a string or number");return this.description=e,this}setType(e){if(typeof e!="string"&&typeof e!="number")throw new Error("Argumnent 1: Is not a string or number");return this.type=e,this}setName(e){if(typeof e!="string"&&typeof e!="number")throw new Error("Argumnent 1: Is not a string or number");return this.name=e,this}setAttr(e){if(typeof e!="object")throw new Error("Argumnent 1: Is not a object");return this.attr=e,this}setConfig(e){if(typeof e!="object")throw new Error("Argumnent 1: Is not a object");return this.config=e,this}setFields(e){if(typeof e!="object")throw new Error("Argumnent 1: Is not a object");let t={};return a.each(e,function(i,n){n instanceof p?t[n.getName()]=n.get():t[i]=n}),this.fields=t,this}setItems(e){if(typeof e!="object")throw new Error("Argumnent 1: Is not a object");return this.items=e,this}setValue(e){if(typeof e!="string"&&typeof e!="number")throw new Error("Argumnent 1 is not a string or number");return this.value=e,this}setData(e){if(typeof e!="object")throw new Error("Argumnent 1: Is not a object");return this.data=e,this}getObj(){return{type:this.type,label:this.label,description:this.description,name:this.name,attr:this.attr,config:this.config,fields:this.fields,items:this.items,data:this.data,value:this.value}}merge(e){return a.extend(this,e),this}get(){let e=this.getObj();return a.extend(e,this.data),e}};var Z,w,c,m,W,v,y,x,j,Q,S,B=class{constructor(e){f(this,Z,void 0);f(this,w,void 0);f(this,c,{});f(this,m,{});f(this,W,{});f(this,v,[]);f(this,y,void 0);f(this,x,{});f(this,j,{});g(this,y,a(e)),g(this,x,{})}static resolve(e){typeof e!="string"&&(e="");var t=window.location.pathname.split("/"),i=t.pop(),n=t.join("/");return n+"/"+e}static setConfigs(e){a.extend(o(this,S),e)}static prepareView(e,t){if(typeof t!="function")throw new Error("The argument 2 in @prepareView has to be a callable");E.setComponent(e,t,this)}view(e,t){let i=o(this,c)[e]&&o(this,c)[e].data?o(this,c)[e].data:{};return a.extend(i,t),o(this,j)[e]=p.view(e,i),o(this,j)[e]}form(e,t){let i=o(this,c)[e]?o(this,c)[e]:{};return a.extend(i,t),o(this,j)[e]=p.form(e,t),o(this,j)[e]}read(){return o(this,c)}update(e,t){return e===void 0?(o(this,m).notify(),this):(e instanceof p?o(this,c)[e.getName()]=e:typeof t=="function"?t(o(this,c)[e]):o(this,c)[e]=t,o(this,m).set(o(this,c)),this)}eventOnload(e){setTimeout(e,1)}setValues(e){if(typeof e=="object")throw new Error("The argument 1 has to be an object");g(this,x,e)}add(e,t){return e instanceof p?o(this,c)[e.getName()]=e:o(this,c)[e]=t,this}getConfigs(e){return typeof e=="string"?o(B,S)[e]:o(B,S)}getElement(){return o(this,y)}async build(e){let t=this,i="";g(this,w,new E(o(this,c),"view",this.getConfigs(),this)),o(this,w).setValues(o(this,x)),i=t.getConfigs("directory"),i.endsWith("/")||(i+="/");for(let[n,r]of Object.entries(o(this,c)))if(!o(t,w).hasComponent(r.type)){o(t,v).push(!1);let s=await import(i+n+".js");o(t,v)[o(t,v).length-1]=!0,o(t,W)[n]=!0,a.each(s,function(l,h){E.setComponent(n,h)})}o(t,v)[o(t,v).length-1]?typeof e=="function"&&e(o(t,w)):o(t,v).length===0&&o(t,w)&&typeof e=="function"&&e(o(t,w))}execute(e){let t=this;a.isEmptyObject(o(this,j))||a.each(o(this,j),function(i,n){t.add(n)}),g(this,m,new J(o(this,c))),t.build(function(i){o(t,m).factory(function(n,r){o(t,y)&&o(t,y).html(i.get())}),o(t,m).listener().notify(),i.hasGroupEvents()&&(o(t,y).on("input",function(n){let r=a(n.target),s=r.data("name"),l=r.val();t.editFieldValue(s,r.val())}),o(t,y).on("click",".wa-field-group-btn",function(n){n.preventDefault();let r=a(this),s=r.data("name"),l=parseInt(r.data("position"));t.addGroupField(s,l,r.hasClass("after"))}),o(t,y).on("click",".wa-field-group-delete-btn",function(n){n.preventDefault();let r=a(this),s=r.data("name"),l=parseInt(r.data("position"));t.deleteGroupField(s,l,r.hasClass("after"))})),typeof e=="function"&&e(o(t,m))})}modifyValue(e,t,i){let n=e;for(let s=0;s<t.length-1;s++){let l=t[s];(n[l]===void 0||typeof n[l]!="object")&&(n[l]={}),n=n[l]}let r=t[t.length-1];i(n,r)}observer(){return o(this,m)}addGroupField(e,t,i){let n=e.split(","),r=o(this,x);return i&&(t+=1),this.modifyValue(r,n,function(s,l){a.isArray(s[l])||(s[l]=Object.values(s[l])),s[l].splice(t,0,{})}),o(this,m).notify(),r}deleteGroupField(e,t){let i=e.split(","),n=o(this,x);return this.modifyValue(n,i,function(r,s){r[s].length>1&&r[s].splice(t,1)}),o(this,m).notify(),n}editFieldValue(e,t){let i=e.split(","),n=o(this,x);return this.modifyValue(n,i,function(r,s){r[s]=t}),n}},b=B;Z=new WeakMap,w=new WeakMap,c=new WeakMap,m=new WeakMap,W=new WeakMap,v=new WeakMap,y=new WeakMap,x=new WeakMap,j=new WeakMap,Q=new WeakMap,S=new WeakMap,f(b,Q,[]),f(b,S,{xss:!0,directory:""});a(document).ready(function(){b.setConfigs({directory:"./views/"});let u=new b("#ingress"),e=u.view("ingress",{headline:"Lorem ipsum dolor",content:"Lorem ipsum dolor sit amet",tags:["Tag 1","Tag 2","Tag 3"]});u.form("name").setLabel("Name"),u.form("email").setLabel("Email"),u.execute(function(i){let n=new b("#footer");n.view("footer",{headline:"Please use the email fields!",content:"Is the email address korrekt?"}),n.form("customField",{type:"group"}).setFields({ingress:{type:"ingress",data:{headline:"Custom fields",content:"You can dynamically add more fields"}},title:{type:"text",label:"Title"},description:{type:"textarea",label:"Description"}}).setConfig({nestedNames:!0,controls:!0}),n.execute(),a(document).on("input",function(r){let s=a(r.target);s.attr("name")==="email"&&(n.view("footer",{headline:s.val()}),n.update())})}),b.prepareView("footer",function(i,n){return`
		<footer class="relative">
			<div class="abs top right pad legend">${n}</div>
		    <h1 class="title">${i.headline}</h1>
		    <p>${i.content}</p>
		</footer>
		`});let t=new b;t.view("component",{headline:"Lorem ipsum dolor",content:"Lorem ipsum dolor sit amet"}),t.execute()});})();
//# sourceMappingURL=App.min.js.map
